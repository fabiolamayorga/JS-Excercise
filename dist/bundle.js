!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);let s=()=>(e=>new Promise((t,r)=>{let s=new XMLHttpRequest;s.open(e.method||"GET",e.url),e.headers&&Object.keys(e.headers).forEach(t=>{s.setRequestHeader(t,e.headers[t])}),s.onload=(()=>{s.status>=200&&s.status<300?t(s.response):r(s.statusText)}),s.onerror=(()=>r(s.statusText)),s.send(e.body)}))({url:"gallery.json"}).then(e=>e=JSON.parse(e));r.d(t,"default",function(){return n});class n{constructor(e){this.galleryParent=e,this.selectedIndex=1,this.galleryData=[]}renderThumbs(e){let t="";return e.forEach(e=>{t+=`<li data-id=${e.id} class="gallery-item ${1==e.id?"selected":""}">\n                        <img src='${e.picture}' alt="${e.description}"/>\n                    </li>`}),`<ul class="gallery-items"> ${t} </ul>`}renderFullImage(e){return`<div class="full-image">\n                    <img class="current-image" src="${e}" />\n                        <button class="control disable prev" data-type="prev"></button>\n                        <button class="control next" data-type="next"></button>\n                </div>`}render(e){let t=e||this.galleryData,r=t.find(e=>e.id==this.selectedIndex);this.galleryParent.innerHTML=`\n            ${this.renderFullImage(r.picture)}\n            ${this.renderThumbs(t)} \n        `}updateCurrentImage(e){this.selectedIndex=parseInt(e);let t=this.galleryData.find(e=>e.id==this.selectedIndex);document.querySelector(".current-image").src=t.picture}addEventHandlers(){let e=document.querySelectorAll(".gallery-item"),t=document.querySelectorAll(".control");for(let t=0;t<e.length;t++)e[t].addEventListener("click",e=>this.onThumbClick(e),!1);for(let e=0;e<t.length;e++)t[e].addEventListener("click",e=>this.onControlsClick(e),!1)}onThumbClick(e){let t=document.querySelector(".selected"),r=document.querySelector(".prev"),s=document.querySelector(".next");r.classList.remove("disable"),s.classList.remove("disable"),this.updateCurrentImage(e.currentTarget.dataset.id),t.classList.remove("selected"),e.currentTarget.classList.add("selected"),1==e.currentTarget.dataset.id?r.classList.add("disable"):5==e.currentTarget.dataset.id&&s.classList.add("disable")}onControlsClick(e){let t="prev"==e.currentTarget.dataset.type;document.querySelector(".disable")&&document.querySelector(".disable").classList.remove("disable"),this.updateCurrentImage(t?this.selectedIndex-1:this.selectedIndex+1),this.updateButtonsState(e.currentTarget),this.updateCursorPosition(t)}updateButtonsState(e){1!==this.selectedIndex&&5!==this.selectedIndex||e.classList.add("disable")}updateCursorPosition(e){let t=document.querySelector(".selected");t.classList.remove("selected"),e?t.previousSibling.classList.add("selected"):t.nextSibling.classList.add("selected")}fetchData(){s().then(e=>{this.galleryData=e,this.render(e),this.addEventHandlers()}).catch(e=>console.log(e))}init(){this.fetchData()}}const l=document.getElementById("gallery");new n(l).init()}]);